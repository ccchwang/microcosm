#!/bin/bash

# Format our code according to our standards
#
# Run this command with:
#   ./bin/format

set -e

# Only run prettier on changed files if there are unstaged changes
if [[ -z $(git status -s) ]]; then
  SRC=$(git ls-files | grep -v "^\." | grep ".jsx*\$")
else
  SRC=$(git diff --name-only HEAD | grep -v "^\." | grep ".jsx*\$")
fi

# Prettier is an automated code formatter.
# https://github.com/prettier/prettier
node_modules/.bin/prettier --write $SRC
